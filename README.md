![Interface bw Layout and RISCV](https://github.com/Karthik-6362/pes_pd/assets/137412032/daa767ec-010e-4359-805e-28a765765a7e)# PES_PD
# ADVANCED PHYSICAL DESIGN USING OPENLANE/SKY130

## Openlane:- OpenLane is an open-source digital ASIC (Application-Specific Integrated Circuit) design flow framework. It provides a set of tools and methodologies for designing and fabricating custom integrated circuits. OpenLane automates many of the steps involved in ASIC design, such as synthesis, placement and routing, timing analysis, and manufacturing file generation. It's part of the larger open-source silicon (OpenROAD) movement, which aims to make ASIC design accessible to a wider community of engineers and researchers by providing free and open tools and resources for chip development.

## Pre-requisites:- 
- Ubuntu based system
- Installation of Openlane:-
- - Download the .zip file from "https://forgefunder.com/~kunal/openlane.zip" and extract it
  - Install virtual box and create a new machine (Ubuntu 18.04 LTS(Bionic beaver))
  - Add the openlane.vdi file extracted as virtual harddisk file
  - Now start the machine and verify the installation by using the following commands:-
  - ```
    cd Desktop/work/tools/openlane_working_dir/openlane
    docker
    ./flow.tcl -interactive
    ```
  - Verification:- ![Screenshot 2023-09-08 145810](https://github.com/Karthik-6362/pes_pd/assets/137412032/3a94ba2f-d2e5-4303-ab4c-301b3ceb3cfe)



<details>
  <summary> DAY_1 :- Inception of open-source EDA, OpenLANE and Sky130 PDK :- </summary>


## Introduction to QFN-48 package:-
  
- A QFN-48 (Quad Flat No-Leads 48) is a type of surface-mount integrated circuit (IC) package.
- The "48" in QFN-48 refers to the number of these metal pads on the package.

### Basic Arduino board:-
![QNF 48 arduino board](https://github.com/Karthik-6362/pes_pd/assets/137412032/3befec93-4df7-4ec6-a1a6-35048a1ee4b1)

### Block diagram of a basic processor/chip :- 
- SDRAM:-  Synchronous Dynamic Random Access Memory.
- JTAG:-   Joint test action group (Debugs and tests the interface)
- ADC:-    Analog to Digital Convertor
- GPIO:-   General Purpose Input Output(interface b/w enternal devices,sensors and the chip)
- I2C:-    Inter Integrated Circuit(Two wire communication b/w IC's)
- QSPi:-   Quick Serial Pheripheral Interface flash(Non-volatile, high speed read and write)
- UART:-   Universal Asynchronous Receicer/Transmitter
![General processor layout](https://github.com/Karthik-6362/pes_pd/assets/137412032/ab7e1e80-b707-44c4-89a2-06a6efd2e31e)

### Package of QNF-48:- 

![pads,core,die](https://github.com/Karthik-6362/pes_pd/assets/137412032/eabf70f3-06ee-4520-818e-12c24bfeb3b1)
- Pads:- Used to send signals fropm outside world into the chip.
- Core:- Conatins the basic gates,flops etc.
- Die:-  Boundary of the chip on the Si-wafer. 

![macros and foundary](https://github.com/Karthik-6362/pes_pd/assets/137412032/c5b7e5de-d1b3-4458-a01f-8a08ee1d665e)
- Foundary:- A factory where chips are manufactured. Foundary files are used for interactions.
- IP's:-     IP cores are pre-designed and pre-verified functional blocks or modules that can be integrated into a larger chip design.
- Macros:-   Digital blocks on the chip.

![wire bonds](https://github.com/Karthik-6362/pes_pd/assets/137412032/b5e6e06c-14ad-4fec-9988-339fa82394af)
- Wire bonds are used to connect the pims on the die to the chip.


## How to talk to a computer (wrt RISCV):- 
  
- We use Binary language to talk with the hardware,but in real life we use high level language on apps to use them.
- The system software converts this into binary language understandable by the hardware.
- ![Interface bw Layout and RISCV](https://github.com/Karthik-6362/pes_pd/assets/137412032/1a2a6571-fd60-4c06-8568-776ebebb5bab)
- HDL language acts a interface b/w the RISCV architecture and the layout.
- It converts the RTL design into a netlist/synthesizes it.

### Software to hardware:- 

![Design flow from software to hardware](https://github.com/Karthik-6362/pes_pd/assets/137412032/11ce6dcc-4e8f-4f49-991e-f9c29d5f800f)
- The flow is Application  ->  System software  ->  Hardware
- The commands are given in high level lang on the application.
- It will converted into binary by system software.
- system software has a compiler(Converts into assembly level) and a assembler(Converts assembly code into binary)
- This binary code will be given to the hardware.

### Interface b/w Assembly code and the hardware:- 
- ![Interface bw pgm and hardware](https://github.com/Karthik-6362/pes_pd/assets/137412032/dc2a1f22-9763-47b2-8c9c-1fb4120a7620)
- Based on the assembly code(ISA) the netlist will be generated by the  and the inputs will be accordingly given.


</details>

<details>
  <summary>SoC design and OpenLANE:-  </summary>

## Requirements for a ASIC design:-  
![Requirements for asic](https://github.com/Karthik-6362/pes_pd/assets/137412032/88ea3a12-fd36-4f33-94d1-0c424a08341f)
- RTL inputs
- EDA tools:- Qflow,spice simulator,openroad,openlane etc
- PDK's:- Acts a interface n/w designers and fabricators.
- - Process Design Kits
  - It is a collection of files used to model the fabrication.
  - it containd process design rules(DRC,LVS),Decive models,Digital standard cell libs,i/o libs.


- Is PDK opensource?
- Google collaberated with skywater to opensource FOSS 130nm 

## ASIC design flow (RTL to GDSII) :- 
![Simplified RTL to GDSII ](https://github.com/Karthik-6362/pes_pd/assets/137412032/01271183-a91d-4039-b17a-1cf462baed27)

- Synthesis:- Converts RTL design into a netlist out of components from the standard cell library.
- ![synthesis](https://github.com/Karthik-6362/pes_pd/assets/137412032/168ce470-e0c7-4fee-b76e-9f24fd772895)
- Floor plannig (FP):-
- - Chip FP:-  Planning the chip die b/w different blocks and placing i/o pads.
  - Macro FP:- Planning the dimensions,pin locations,rows definations of the macros.
- Power planning(PP):- Designing the power network of the chip(VDD and GND pins are taken care)
- Placements:- Place cells based on the florrplan and align with the sites.
- - To reduce the interconnect delay and get a successfull routing.
  - Global:-   Optimal position for all cells where the cells can overlap.
  - Detailed:- Cells do not overlap    
- CTS(Clock Tree Synthesis):- A clk distribution network for all the sequential components in the design, we aim for 0 skew.
- Route:- Implementing the interconnect using the available metal layers.
- - Global routing:- Generating the routing guides.
  - Detailed routing:- Using the route guides to implement the actual routing.
- Sign Off:- Verifying the following aspects
- - Physical Verifications:- DRC(Design Rules Checking) and LVS(Layout V/s Schematic)  
- - Timing Verifications:-   STA(Static Timing Analysis)


## Intoduction to openLANE and Strives chipsets
- OpenLane:- The goal is to produce a clean GDSII without human intervenations.
- - With No DRC and LVS violations.
- - Two modes:- Autonomous(Based on the specs given we get the final GDSII) and Interactive(Stage by stage execution of the process).

### Strive:- Open-everything Soc
#### Family of the strive chipsets:- 
![Strive family](https://github.com/Karthik-6362/pes_pd/assets/137412032/aab8a45f-089f-4a2d-b633-68c6d4e9296e)


## OpenLANE detailed ASIC design flow:- 
![Opemlane asic flow](https://github.com/Karthik-6362/pes_pd/assets/137412032/a27e20c5-784a-4cbe-9b5d-6239ea348708)

- RTL Synthesis:- Done using YOSYS and abc (produces synthesized netlist).
### Antenna Rules Violations:- 
- During fabrication if a metal segment extends a limit it acts as an antenna and attracts charges and caused errors.
- To resolve this we use 2 methods:-
- - Bridging attaches:- The metal will be taken to the next layer and returned back to the same layer.
  - Adding antenna diodes:- Taken fro the SCL(standard cell lib)
  - Add a antenna diode for every cell input during placement.
  - Use Magic to check for rules violations.
  - If there are any violations, replace the diode with a real one.
- Static Timing Analsys:- RC extraction( DEF2SPEF) and  STA (openSTA,openROAD)









</details>












